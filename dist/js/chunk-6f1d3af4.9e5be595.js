(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f1d3af4"],{"208f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-wrap"},[a("div",{key:e.key,staticClass:"box"},[a("div",{staticClass:"left"},[a("mixSearch",{attrs:{fields:e.formFields.left},model:{value:e.formData.left,callback:function(t){e.$set(e.formData,"left",t)},expression:"formData.left"}}),a("div",{staticStyle:{height:"calc(100% - 40px)"}},[a("mixTable",{attrs:{fields:e.tableFields.left},model:{value:e.tableData.left,callback:function(t){e.$set(e.tableData,"left",t)},expression:"tableData.left"}})],1)],1),a("div",{staticClass:"right"},[a("mixSearch",{attrs:{fields:e.formFields.right},model:{value:e.formData.right,callback:function(t){e.$set(e.formData,"right",t)},expression:"formData.right"}}),a("mixTable",{attrs:{fields:e.tableFields.right},model:{value:e.tableData.right,callback:function(t){e.$set(e.tableData,"right",t)},expression:"tableData.right"}})],1)])])},n=[],i=(a("4de4"),a("45fc"),a("96cf"),a("1da1")),l={name:"optionManage",data:function(){return{key:"key",show:!1,currentData:null,formData:{left:{},right:{}},formFields:{left:[{label:"选项组名称",prop:"name",span:5,type:"text"},{type:"button",span:3,options:[{label:"添加",click:this.saveLeft,style:"primary"}]}],right:[{label:"选项名称",prop:"label",span:5,type:"text"},{label:"选项值",prop:"value",span:5,type:"text"},{type:"button",span:6,options:[{label:"添加",click:this.saveRight,style:"primary"}]}]},tableData:{left:[],right:[]},tableFields:{left:[{label:"ID",minWidth:50,prop:"id"},{label:"选项组名称",type:"input",prop:"name",change:this.tableChange},{label:"操作",type:"manage",width:200,options:[{label:"编辑选项",style:"primary",click:this.tableEdit},{label:"删除",style:"danger",click:this.tableDel}]}],right:[{label:"选项名称",prop:"label",type:"input",change:this.tableChange},{label:"选项值",prop:"value",type:"input",change:this.tableChange},{label:"tag样式",prop:"style",type:"tagdown",options:[{label:"primary",value:"primary"},{label:"success",value:"success"},{label:"info",value:"info"},{label:"warning",value:"warning"},{label:"danger",value:"danger"}],change:this.tableChange},{label:"操作",type:"manage",options:[{label:"删除",style:"danger",click:this.tableOnDel}]}]}}},activated:function(){this.getData()},methods:{getData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.request("/adminapi/Tool/list");case 2:a=t.sent,r=a.data,r&&(e.tableData.left=r);case 5:case"end":return t.stop()}}),t)})))()},tableEdit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.request("/adminapi/Tool/list",{id:e.id});case 2:r=a.sent,r&&(t.currentData=e,t.tableData.right=r.data.options||[],t.show=!0,t.key=Math.random());case 4:case"end":return a.stop()}}),a)})))()},tableDel:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("本操作不可恢复，是否继续！","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){}));case 2:if(r=a.sent,r){a.next=5;break}return a.abrupt("return");case 5:return a.next=7,t.request("/adminapi/Tool/del",{id:e.id});case 7:n=a.sent,n&&t.getData();case 9:case"end":return a.stop()}}),a)})))()},tableOnDel:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("本操作不可恢复，是否继续！","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){}));case 2:if(r=a.sent,r){a.next=5;break}return a.abrupt("return");case 5:n=t.tableData.right.filter((function(t){return t.label!=e.label})),t.tableData.right=n&&n.length&&n||null,t.save();case 8:case"end":return a.stop()}}),a)})))()},tableChange:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.save();case 2:e.tableEdit(e.currentData);case 3:case"end":return t.stop()}}),t)})))()},saveLeft:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.request("/adminapi/Tool/add",e.formData.left);case 2:e.getData();case 3:case"end":return t.stop()}}),t)})))()},saveRight:function(){var e=this;this.tableData.right.some((function(t){return t.label==e.formData.right.label}))?this.$message.error("请勿重复添加"):(this.tableData.right.push(this.formData.right),this.save(),this.formData.right={},this.key=Math.random())},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.currentData.options=e.tableData.right,t.next=3,e.axios("/adminapi/Tool/edit",{data:e.currentData});case 3:a=t.sent,a&&e.getData();case 5:case"end":return t.stop()}}),t)})))()},request:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,a.axios(e,{data:t});case 2:if(n=r.sent,i=n.data,!i||!i.code){r.next=8;break}return r.abrupt("return",i);case 8:return r.abrupt("return",!1);case 9:case"end":return r.stop()}}),r)})))()}}},s=l,c=(a("b05e"),a("2877")),o=Object(c["a"])(s,r,n,!1,null,"241950fe",null);t["default"]=o.exports},"9ac0":function(e,t,a){},b05e:function(e,t,a){"use strict";var r=a("9ac0"),n=a.n(r);n.a}}]);